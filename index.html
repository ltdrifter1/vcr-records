<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VCR Records</title>

  <!-- Global styles -->
  <link rel="stylesheet" href="/style.css" />

  <!-- Page-scoped styles -->
  <style>
/* ===============================
   THEME
   =============================== */
:root{
  --paper-bg:  #f5f1e8;  /* creamy paper */
  --paper-line:#d9d2c2;  /* soft divider */
  --ink:       #111;     /* text */
  --muted:     #555;
  --overlay-bg: rgba(0,0,0,.9);
}

/* Page background + readable text */
html, body, .main-wrapper, .section-block, .row-wrapper{
  background: var(--paper-bg) !important;
  color: var(--ink);
}
.main-wrapper{
  /* room for fixed Now Playing */
  padding-bottom: calc(72px + env(safe-area-inset-bottom, 0));
}

/* Section title subtle depth */
.section-title{ text-shadow: 0 1px 0 rgba(0,0,0,.15); }

/* ===============================
   ROWS / SCROLLERS
   =============================== */
.row-wrapper{ padding-left: 0; }
.row-scroll{
  padding-left: 0;
  display: flex;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  gap: 1rem;
  padding-bottom: 1rem;
  align-items: flex-start;
}
.row-scroll::-webkit-scrollbar{ display: none; }

/* Desktop affordances */
@media (hover:hover) and (pointer:fine){
  .row-scroll{
    scrollbar-gutter: stable both-edges;
    overscroll-behavior-inline: contain;
    cursor: grab;
    scrollbar-width: thin; scrollbar-color: #bdb7a8 transparent;
  }
  .row-scroll:active{ cursor: grabbing; }
  .row-scroll::-webkit-scrollbar{ height: 10px; display: initial; }
  .row-scroll::-webkit-scrollbar-thumb{ background: #bdb7a8; border-radius: 8px; }
  .row-scroll::-webkit-scrollbar-track{ background: transparent; }
}

/* Grid variant (Mixtape Library) */
.row-scroll.two-rows{
  display: grid !important;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  grid-auto-rows: auto;
  grid-auto-flow: row dense;
  gap: 1rem;
  overflow-x: hidden;
  scroll-snap-type: none;
}
@media (max-width: 600px){
  .row-scroll.two-rows{
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: .75rem;
  }
}

/* ===============================
   CHANNEL CARDS (Row A)
   =============================== */
.two-wide .rect-card{
  background: var(--paper-bg) !important;
  border: 1px solid var(--paper-line) !important;
  border-radius: 12px;
  box-shadow: none !important;
  overflow: hidden;
  transition: transform .12s ease, box-shadow .18s ease;
}
.two-wide .rect-card:hover{
  transform: translateY(-1px);
  box-shadow: 0 10px 20px rgba(0,0,0,.10) !important;
}
.two-wide .rect-card > img{
  border-right: 1px solid var(--paper-line) !important;
  background: #eee6d6;
}
.two-wide .rect-card .rect-content{ color: var(--ink) !important; }
.two-wide .rect-card .label,
.two-wide .rect-card .channel{ color: #6a665b !important; }
.two-wide .rect-card .title{ color: var(--ink) !important; }

/* Listen chip (default) */
.two-wide .rect-card .listen-button{
  background: var(--paper-bg) !important;
  color: var(--ink) !important;
  -webkit-text-fill-color: var(--ink) !important;
  border: 1px solid var(--paper-line) !important;
  border-radius: 999px;
  padding: .28rem .68rem;
  font-weight: 700;
  line-height: 1;
  box-shadow: 0 1px 0 rgba(255,255,255,.6) inset;
}
.two-wide .rect-card .listen-button .play-icon,
.two-wide .rect-card .listen-button svg{
  fill: #000 !important;
  color: #000 !important;
}
.two-wide .rect-card .listen-button:hover{
  background: #efe9dd !important;
}
.two-wide .rect-card .listen-button:focus-visible{
  outline: 2px solid #bcb5a5; outline-offset: 2px;
}

/* Mobile layout fix for Row A */
@media (max-width: 420px){
  .row.two-wide { display:flex; flex-direction:column; gap: .75rem; }
  .row.two-wide .rect-card{
    display:flex; align-items:stretch;
    overflow:hidden; border-radius:12px;
  }
  .row.two-wide .rect-card img{
    width:96px; height:100%; object-fit:cover;
    border-radius:0;
    -webkit-mask-image: -webkit-radial-gradient(white, black);
  }
  .row.two-wide .rect-content{
    padding:.75rem .75rem 2.6rem; position:relative;
  }
  .row.two-wide .rect-content .channel{
    position:absolute; left:.75rem; bottom:.55rem; font-size:.7rem; color:#888;
  }
  .row.two-wide .rect-card .rect-content .listen-button{
    position:absolute; right:10px; bottom:8px; padding:.25rem .6rem; font-size:.72rem;
  }
}

/* ===============================
   MIXTAPE SQUARE CARDS
   =============================== */
.square-card{
  display:flex; flex-direction:column;
  flex:0 0 auto;
  width:200px;
  gap:4px;
  background: var(--paper-bg) !important;
  border:1px solid var(--paper-line) !important;
  border-radius:12px;
  box-shadow:none !important;
  box-sizing:border-box;
  scroll-snap-align:start;
  transition: transform .12s ease, box-shadow .2s ease;
}
.row-scroll.two-rows .square-card{ width:auto !important; }

.square-card .card-inner{
  position:relative; width:100%; aspect-ratio:1/1; overflow:hidden;
  border-radius:12px 12px 0 0; background:#eee6d6;
}

.square-card img,
.square-card video{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.square-card .overlay{
  position:absolute; inset:auto 0 0 0;
  background: linear-gradient(to top, rgba(0,0,0,0.72), transparent);
  padding:.5rem; color:#fff;
}
.square-card .overlay h4{ font-size:.9rem; margin:0; }

/* genre tags: single row w/ scroll */
.square-card .tags-below{
  display:flex; flex-wrap:nowrap; gap:8px;
  overflow-x:auto; overflow-y:hidden;
  -webkit-overflow-scrolling:touch;
  white-space:nowrap;
  padding:10px 10px 12px;
  border-top:1px solid var(--paper-line);
  border-radius:0 0 12px 12px;
  mask-image: linear-gradient(90deg, transparent 0, #000 14px, #000 calc(100% - 14px), transparent 100%);
  -webkit-mask-image: linear-gradient(90deg, transparent 0, #000 14px, #000 calc(100% - 14px), transparent 100%);
}
.square-card .tags-below::-webkit-scrollbar{ display:none; }
.square-card .tags-below{ scrollbar-width:none; }
.square-card .tags-below span{
  flex:0 0 auto;
  background:transparent;
  border:1px solid #aaa;
  border-radius:6px;
  padding:6px 10px;
  font-size:.72rem; font-weight:700; letter-spacing:.02em; text-transform:uppercase; color:#222;
}
@media (max-width:420px){
  .square-card .tags-below{ padding:8px 8px 10px; gap:6px; }
  .square-card .tags-below span{ padding:5px 8px; font-size:.68rem; }
}

/* Little play chip */
.play-button{
  position:absolute; top:8px; left:8px; width:24px; height:24px;
  background-color: rgba(0,0,0,.5);
  border-radius:50%; display:flex; align-items:center; justify-content:center;
  z-index:2; padding:1px; cursor:pointer;
}
.play-button svg{ fill:#fff; }

/* ===============================
   NEW RELEASES — CLEAN / TRACKS CARD
   (paper variant)
   =============================== */
.release-card.clean{
  display:flex; align-items:center; gap:14px;
  background: var(--paper-bg) !important;
  border:1px solid var(--paper-line) !important;
  border-radius:16px;
  box-shadow:none !important;
  padding:14px 16px; margin-bottom:20px;
}
.release-card.clean .release-art{
  width:84px; height:84px; flex:0 0 84px; border-radius:12px; object-fit:cover; display:block; background:#eee6d6;
}
.release-card.clean .release-body{ flex:1; min-width:0; }
.release-card.clean .release-title{ margin:0 0 4px; font-size:clamp(18px, 2.2vw, 22px); line-height:1.22; letter-spacing:.2px; }
.release-card.clean .release-meta{ margin:0; color:var(--muted); font-size:.95rem; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; }
@media (max-width:520px){
  .release-card.clean{ gap:12px; padding:12px 14px; }
  .release-card.clean .release-art{ width:72px; height:72px; border-radius:10px; }
}

/* Tracks layout variant */
.release-card.clean.tracks{
  --art: 84px; --buy-col: 128px;
  display:grid !important;
  grid-template-columns: var(--art) minmax(0,1fr) var(--buy-col);
  align-items:stretch; gap:0 12px; padding:0 !important;
  border-radius:16px; overflow:hidden;
  background: var(--paper-bg) !important;
  border:1px solid var(--paper-line) !important;
  box-shadow:none !important;
  margin-bottom:20px;
}
.release-card.clean.tracks .release-art{
  width:100% !important; height:100% !important; object-fit:cover;
  border-radius:16px 0 0 16px; cursor:pointer; display:block; background:#eee6d6;
}
.release-card.clean.tracks .release-body{ min-width:0; padding:10px 0 10px 10px; }
.release-card.clean.tracks .track-row{
  display:grid; grid-template-columns:auto minmax(0,1fr);
  column-gap:8px; align-items:center; margin:1px 0;
}
.release-card.clean.tracks .track-label{ color:#6a665b; font-size:.9rem; white-space:nowrap; }
.release-card.clean.tracks .track-title{
  font-size: clamp(15px, 4vw, 18px);
  font-weight: 600; line-height: 1.15;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; cursor: pointer;
}
.release-card.clean.tracks .release-meta{
  margin:6px 0 0; color:var(--muted); font-size:.9rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.release-card.clean.tracks .buy-stack{
  justify-self:end; width:var(--buy-col);
  padding:10px; display:grid; grid-template-rows: 1fr 1fr; gap:8px;
  align-self:stretch; box-sizing:border-box;
}
.release-card.clean.tracks .buy-button{
  display:flex; align-items:center; justify-content:center;
  width:100%; height:100%; line-height:1.2;
  font-size:.82rem !important; font-weight:700;
  border-radius:8px !important;
  background:#111; color:#fff !important; text-decoration:none;
  box-shadow:none !important; border:1px solid #111;
}
.release-card.clean.tracks .buy-button.secondary{ background:#333; border-color:#333; }
.release-card.clean.tracks .buy-stack.single{ grid-template-rows: 1fr; gap:0; }
@media (max-width:420px){
  .release-card.clean.tracks{ --art:72px; --buy-col:116px; }
  .release-card.clean.tracks .buy-button{ font-size:.78rem !important; }
}

/* ===============================
   SHOP CARD (square “record store”)
   =============================== */
.release-card.shop{
  display:block; border-radius:14px; overflow:hidden;
  background: transparent;
  border: 1px solid var(--paper-line);
  box-shadow: none;
  transition: transform .12s ease, box-shadow .2s ease;
}
.release-card.shop:hover{ transform: translateY(-1px); box-shadow: 0 12px 26px rgba(0,0,0,.10); }
.release-card.shop .art-wrap{
  display:block; position:relative; width:100%; aspect-ratio:1/1; background:#eee6d6; cursor:pointer;
}
.release-card.shop .art-wrap img{ width:100%; height:100%; object-fit:cover; display:block; }
.release-card.shop .release-info{
  display:grid; grid-template-columns: 1fr auto; align-items:center; gap:12px;
  background: var(--paper-bg);
  padding: 14px 14px 16px;
  border-top: 1px solid var(--paper-line);
}
.release-card.shop .release-title{ margin:0 0 4px; font-size: clamp(18px, 2.4vw, 22px); letter-spacing:.2px; }
.release-card.shop .release-meta{ margin:0; color:var(--muted); font-size:.95rem; }
.release-card.shop .tracks{ grid-column:1 / -1; display:grid; gap:4px; margin-top:8px; }
.release-card.shop .track{ display:grid; grid-template-columns:auto 1fr; gap:8px; align-items:center; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.release-card.shop .track-label{ color:#6a665b; font-size:.9rem; }
.release-card.shop .track-title{ font-weight:600; cursor:pointer; overflow:hidden; text-overflow:ellipsis; }

.release-card.shop .actions{
  grid-column:2; justify-self:end; margin:0;
}
.release-card.shop .buy-button.free{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 12px; border-radius:8px;
  background: transparent; color:#111 !important; text-decoration:none; font-weight:700;
  border:1px solid var(--ink);
}
.release-card.shop .buy-button.free:hover{
  background: rgba(0,0,0,0.06);
}
@media (max-width:560px){
  .release-card.shop .release-info{ grid-template-columns:1fr; }
  .release-card.shop .actions{ grid-column:1; justify-self:start; margin-top:6px; }
}

/* ===============================
   STORE GRID (2 wide iOS → 4 wide desktop)
   =============================== */
.store-grid{
  --bg: var(--paper-bg);
  --line: var(--paper-line);
  --text: var(--ink);
  --muted: var(--ink);
  background: var(--bg);
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 6px 18px rgba(0,0,0,.10);
}
.store-grid .grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:0;
  padding:1px;
  background: var(--line);
}
.store-grid .product-card{
  display:grid; grid-template-rows:auto auto;
  background: var(--bg); color: var(--text); text-decoration:none;
  border:1px solid var(--line);
  margin:-1px 0 0 -1px;
  padding:18px 18px 20px;
  transition: transform .12s ease, box-shadow .18s ease;
}
.store-grid .product-card:hover{
  transform: translateY(-2px);
  box-shadow: 0 10px 22px rgba(0,0,0,.12);
}
.store-grid .product-card .art{
  width:100%; aspect-ratio: 1/1; background:#eee6d6; display:block; overflow:hidden;
}
.store-grid .product-card .art img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  background: #fff;
}
.store-grid .product-card .meta{ padding-top:16px; }
.store-grid .product-card .title{
  margin:0 0 10px 0; font-size:clamp(18px, 2.8vw, 22px); line-height:1.25; letter-spacing:.02em; font-weight:600; color:var(--text);
}
.store-grid .product-card .price{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size: clamp(16px, 2.6vw, 19px);
  color: var(--muted);
}
@media (min-width:720px){  .store-grid .grid{ grid-template-columns: repeat(3, 1fr); } }
@media (min-width:1080px){ .store-grid .grid{ grid-template-columns: repeat(4, 1fr); } }


/* ===============================
   VIDEO OVERLAY
   =============================== */
.video-overlay{
  position: fixed; inset: 0; background: var(--overlay-bg);
  display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 1rem; z-index: 3000; gap: 0.5rem;
}
.video-overlay.hidden{ display:none; }
.video-overlay video{
  max-width: 90%; max-height: 80%;
  border-radius: 8px;
  width: 100%; height: auto;
  background: black;
}
.video-overlay .close-btn{
  position: absolute; top: 12px; right: 12px;
  background: rgba(0,0,0,0.6); border: none; color: #fff;
  font-size: 1.5rem; cursor: pointer; padding: 6px 10px;
  border-radius: 4px; line-height: 1;
}

/* ===============================
   HEADER
   =============================== */
.site-header{
  display:grid;
  grid-template-columns: 44px 1fr 44px;
  align-items:center;
  gap: 0;
  position: sticky; top: 0; z-index: 1000;
  background:#000 url('static/assets/header.png') center/cover no-repeat !important;
  border-bottom:1px solid #222;
  padding: calc(1rem + env(safe-area-inset-top, 0px)) 12px 12px;
}

/* Center the logo perfectly */
.center-logo{ justify-self:center; }
.center-logo img{ height: 35px; width:auto; display:block; }

.left-group{ display:none !important; }

/* Hamburger */
.hamburger{
  justify-self:start;
  width:36px; height:36px;
  border:none; background:transparent; padding:6px; cursor:pointer;
  display:grid; place-items:center;
}
.hamburger span{
  display:block; width:22px; height:2px; background:#f5f5f5; margin:3px 0; transition:transform .2s ease, opacity .2s ease;
}
.hamburger[aria-expanded="true"] span:nth-child(1){ transform: translateY(5px) rotate(45deg); }
.hamburger[aria-expanded="true"] span:nth-child(2){ opacity:0; }
.hamburger[aria-expanded="true"] span:nth-child(3){ transform: translateY(-5px) rotate(-45deg); }

/* Drawer nav (mobile) */
.nav.drawer{
  position: fixed;
  top: 0; left: 0; bottom: 0;
  width: 260px;
  background: rgba(0,0,0,.92);
  backdrop-filter: blur(6px);
  border-right: 1px solid rgba(255,255,255,.08);
  transform: translateX(-100%);
  transition: transform .22s ease;
  padding: calc(16px + env(safe-area-inset-top,0)) 16px 16px;
  display: flex; flex-direction: column; gap: 14px;
  z-index: 1200;
}
.nav.drawer a{ color:#fff; font-weight:600; letter-spacing:.2px; }

.nav-scrim{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(1px);
  z-index: 1100;
}

.site-header.menu-open .nav.drawer{ transform: translateX(0); }
.site-header.menu-open .nav-scrim[hidden]{ display:block; }

/* Desktop: inline nav, no drawer */
@media (min-width: 900px){
  .hamburger{ display:none; }
  .header-spacer{ display:none; }
  .site-header{ grid-template-columns: 1fr auto 1fr; }
  .nav.drawer{
    position: static; transform: none; transition: none;
    width: auto; background: transparent; backdrop-filter:none;
    border: none; padding: 0;
    flex-direction: row; gap: 1.2rem; z-index: auto;
  }
  .nav.drawer a{ color:#f5f5f5; }
  .nav-scrim{ display:none !important; }
}

/* ===============================
   FOOTER
   =============================== */
.site-footer{
  position:relative; overflow:hidden;
  background:var(--paper-bg); color:var(--ink);
  border-top:1px solid var(--paper-line);
  padding:40px 12px 28px;
  isolation:isolate;
}
.footer-wrap{
  width:min(1100px,92vw); margin-inline:auto;
  display:grid; grid-template-columns:1fr 1fr; gap:24px;
}
@media (max-width:900px){ .footer-wrap{ grid-template-columns:1fr; } }

.footer-illus{
  position:absolute; left:-70px; top:-20px; width:360px; opacity:.35; color:#b7ad98;
  z-index:-1; pointer-events:none; user-select:none;
}
@media (max-width:900px){ .footer-illus{ width:280px; left:-40px; top:-10px; } }

/* === Newsletter signup card === */
.signup-card{
  background: transparent;
  border: 1px solid var(--paper-line);
  border-radius: 0;
  box-shadow: none;

  padding: 0;             /* card edge hugs content + button */
  overflow: hidden;       /* so the button bottom is flush */
}

/* Normal rows: title, email, checkbox */
.signup-card .row{
  padding: 16px;
  border-top: 1px solid var(--paper-line);
}
.signup-card .row:first-child{
  border-top: none;
}

/* Special case: button row – no padding */
.signup-card .row.signup-btn{
  padding: 0;
}

/* The SIGN UP button */
.signup-btn{
  display: block;
  width: 100%;
  height: 52px;

  background: #111;
  color: #fff;

  border: 0;                               /* no extra border inside */
  border-top: 1px solid var(--paper-line); /* divider above button */

  -webkit-appearance: none;
  appearance: none;
  -webkit-text-fill-color: #fff;           /* iOS text fix */

  text-transform: uppercase;
  font-weight: 900;
  font-size: 20px;
  letter-spacing: .02em;
  cursor: pointer;
}
.signup-btn:hover{
  background: #000;
}
.signup-btn:focus-visible{
  outline: 2px solid #000;
  outline-offset: 2px;
}

/* Newsletter title */
.signup-title{
  font-weight: 900;              /* bold */
  letter-spacing: .02em;
  text-transform: none;          /* keep clean text */
  font-size: clamp(22px, 4vw, 30px);  /* slightly larger on all screens */
  line-height: 1.15; 
  margin: 0;
}




/* Social buttons */
.footer-social{
  display:flex; gap:36px; align-items:center; justify-content:center;
  margin:28px auto 12px;
}
.footer-social .social{
  width:96px; height:96px; border-radius:999px;
  display:grid; place-items:center;
  background:#111; color:#fff; text-decoration:none;
  transition:transform .15s ease, background .15s ease;
}
.footer-social .social:hover{
  background:#000; transform:translateY(-2px) scale(1.02);
}
.footer-social .social svg{
  width:42px; height:42px; display:block;
}
@media (max-width:560px){
  .footer-social{ gap:22px; }
  .footer-social .social{ width:64px; height:64px; }
  .footer-social .social svg{ width:28px; height:28px; }
}

.footer-links{
  display:flex; flex-wrap:wrap; gap:10px;
  justify-content:center; font-size:12px; margin-top:20px;
}
.footer-links a{ color:var(--ink); text-decoration:none; }
.footer-links a:hover{ text-decoration:underline; }
.copyright, .a11y-note{
  text-align:center; font-size:12px; margin-top:8px;
}

/* ============================================
   THIN FULL-WIDTH HERO STRIP
   ============================================ */
/* ============================================
   THIN FULL-WIDTH HERO STRIP – iOS SAFE
   ============================================ */
.hero-strip{
  position: relative;
  width: 100%;
  margin: 0;
  overflow: hidden;
}

/* Full-bleed, no sideways scroll, thin strip */
.hero-strip img{
  display: block;
  width: 100%;
  height: clamp(150px, 40vw, 150px); /* thin on phones, a bit taller on desktop */
  object-fit: cover;
}



  </style>

</head>
<body>

  <!-- Header -->
<header class="site-header">
  <button class="hamburger" aria-label="Open menu" aria-expanded="false" aria-controls="siteMenu">
    <span></span><span></span><span></span>
  </button>

  <a href="home.html" class="logo center-logo">
    <img src="/vcr.avif" alt="AFR Logo" />
  </a>

  <div class="header-spacer" aria-hidden="true"></div>

  <nav id="siteMenu" class="nav drawer">
    <a href="home.html">Home</a>
    <a href="home.html">Releases</a>
    <a href="home.html">Library</a>
    <a href="https://www.youtube.com/watch?v=AUAqGMaGjk4">About</a>
    <a href="about.html">Contact</a>
  </nav>

  <div class="nav-scrim" hidden></div>

  <audio id="liveAudio" src="static/assets/live_audio.mp3"></audio>
</header>

<!-- THIN FULL-WIDTH HERO -->
<section class="hero-strip">
  <img src="/vcr1.webp"
       alt=""
       loading="lazy"
       decoding="async" />
</section>

<!-- Main -->
<main class="main-wrapper">
  <section class="row-wrapper">
    <h2 class="section-title">New Releases</h2>

    <div class="store-grid">
      <div class="grid">




         <a class="product-card" href="holding.html" aria-label="edit">
          <div class="art">
            <img src="/holding.avif" alt="Holiding On" loading="lazy" decoding="async">
          </div>
          <div class="meta">
            <h3 class="title">F. Hastings:<br>Holding On</h3>
            <div class="price">$4.98</div>
          </div>
        </a>


        


         <a class="product-card" href="late.html" aria-label="edit">
          <div class="art">
            <img src="/late.avif" alt="Late Admission" loading="lazy" decoding="async">
          </div>
          <div class="meta">
            <h3 class="title">F. Hastings:<br>Late Admission</h3>
            <div class="price">$4.98</div>
          </div>
        </a>


          <a class="product-card" href="testpress.html" aria-label="edit">
          <div class="art">
            <img src="/testpress.avif" alt="Test Press" loading="lazy" decoding="async">
          </div>
          <div class="meta">
            <h3 class="title">F. Hastings:<br>Test Press</h3>
            <div class="price">$4.98</div>
          </div>
        </a>


            <a class="product-card" href="soul.html" aria-label="edit">
          <div class="art">
            <img src="/soulbounce.avif" alt="Soul Bounce" loading="lazy" decoding="async">
          </div>
          <div class="meta">
            <h3 class="title">F. Hastings:<br>Soul Bounce</h3>
            <div class="price">$4.98</div>
          </div>
        </a>


        
          
                  <a class="product-card" href="avectoi.html" aria-label="edit">
          <div class="art">
            <img src="/avectoi.avif" alt="Avec Toi" loading="lazy" decoding="async">
          </div>
          <div class="meta">
            <h3 class="title">F. Hastings:<br>Avec Toi</h3>
            <div class="price">$4.98</div>
          </div>
        </a>
          
          

        
        
           <a class="product-card" href="edit02.html" aria-label="edit">
          <div class="art">
            <img src="/edit02.avif" alt="EP" loading="lazy" decoding="async">
          </div>
          <div class="meta">
            <h3 class="title">F. Hastings:<br>edit02 (Couldn't Love You More)</h3>
            <div class="price">$0.98</div>
          </div>
        </a>
          
          
          
             <a class="product-card" href="edit01.html" aria-label="edit">
          <div class="art">
            <img src="/edit01.avif" alt="EP" loading="lazy" decoding="async">
          </div>
          <div class="meta">
            <h3 class="title">F. Hastings<br>edit01 (Like a Tattoo)</h3>
            <div class="price">$0.98</div>
          </div>
        </a>
      
       
        <a class="product-card" href="ep.html" aria-label="EP">
          <div class="art">
            <img src="/ep.avif" alt="EP" loading="lazy" decoding="async">
          </div>
          <div class="meta">
            <h3 class="title">F. Hastings<br>A: Yours & Mine / B: State Street</h3>
            <div class="price">$3.98</div>
          </div>
        </a>
      </div>
    </div>
  </section>

  <!-- Row: Mixtapes -->
  <div class="row-wrapper">
    <h2 class="section-title">Mixtape Library</h2>

    <div class="row-scroll two-rows">
      <a href="club6.html" class="square-card">
        <div class="card-inner">
             <div class="play-button"
         data-audio="https://pub-ec23146353b246ceade3d35cb55100dd.r2.dev/clubmix5.mp3">
            <svg viewBox="0 0 24 24"><polygon points="6,4 20,12 6,20"/></svg>
          </div>
          <img class="card-video"
               src="/vcr2.avif"
               alt="Street Soul / House"
               loading="lazy"
               decoding="async" />
          <div class="overlay"><h4></h4></div>
        </div>
        <div class="tags-below"><span>Street Soul</span><span>House</span></div>
      </a>

 

   



   



  



    <a href="liquidfall25.html" class="square-card">
        <div class="card-inner">
             <div class="play-button"
         data-audio="https://pub-ec23146353b246ceade3d35cb55100dd.r2.dev/lquidmixfall25.mp3">
            <svg viewBox="0 0 24 24"><polygon points="6,4 20,12 6,20"/></svg>
          </div>
          <img class="card-video"
               src="/htk2.webp"
               alt="DnB"
               loading="lazy"
               decoding="async" />
          <div class="overlay"><h4></h4></div>
        </div>
        <div class="tags-below"><span>DnB</span><span>Liquid</span></div>
      </a>







    <a href="chill4.html" class="square-card">
        <div class="card-inner">
           <div class="play-button"
         data-audio="https://pub-ec23146353b246ceade3d35cb55100dd.r2.dev/artchill5.mp3">
            <svg viewBox="0 0 24 24"><polygon points="6,4 20,12 6,20"/></svg>
          </div>
          <img class="card-video"
               src="/chill.webp"
               alt="Downtempo"
               loading="lazy"
               decoding="async" />
          <div class="overlay"><h4></h4></div>
        </div>
        <div class="tags-below"><span>Downtempo</span></div>
      </a>


<a href="club4.html" class="square-card">
  <div class="card-inner">
    <div class="play-button"
         data-audio="https://pub-ec23146353b246ceade3d35cb55100dd.r2.dev/felix1.mp3">
      <svg viewBox="0 0 24 24">
        <polygon points="6,4 20,12 6,20"/>
      </svg>
    </div>
    <img src="/vcr2.avif" alt="Club Mix" loading="lazy" decoding="async"/>
    <div class="overlay"><h4></h4></div>
  </div>
  <div class="tags-below"><span>House</span><span>Jungle</span></div>
</a>








   <a href="34z.html" class="square-card">
        <div class="card-inner">
          <div class="play-button"
         data-audio="https://pub-ec23146353b246ceade3d35cb55100dd.r2.dev/three4zone.mp3">
            <svg viewBox="0 0 24 24"><polygon points="6,4 20,12 6,20"/></svg>
          </div>
          <img class="card-video"
               src="/34z.webp"
               alt="UKG"
               loading="lazy"
               decoding="async" />
          <div class="overlay"><h4></h4></div>
        </div>
    <div class="tags-below"><span>UK Garage</span><span>Breakbeat</span></div>
      </a>









   <a href="jungle4.html" class="square-card">
        <div class="card-inner">
             <div class="play-button"
         data-audio="https://pub-ec23146353b246ceade3d35cb55100dd.r2.dev/DnB9_Futurejungle4.mp3">
            <svg viewBox="0 0 24 24"><polygon points="6,4 20,12 6,20"/></svg>
          </div>
          <img class="card-video"
               src="/fj.webp"
               alt="Jungle"
               loading="lazy"
               decoding="async" />
          <div class="overlay"><h4></h4></div>
        </div>
<div class="tags-below"><span>DnB</span><span>Jungle</span></div>
      </a>
      
      
      
      
      

      <a href="ready.html" class="square-card">
        <div class="card-inner">
            <div class="play-button"
         data-audio="https://pub-ec23146353b246ceade3d35cb55100dd.r2.dev/DnB1ready.mp3">
            <svg viewBox="0 0 24 24"><polygon points="6,4 20,12 6,20"/></svg>
          </div>
          <img src="/vcr2.webp" alt="?Ready or Not?" loading="lazy" decoding="async"/>
          <div class="overlay"><h4></h4></div>
        </div>
        <div class="tags-below"><span>DnB</span><span>Soul</span><span>Jungle</span></div>
      </a>
      
      
      
      
      
      
      

    </div>
  </div>

  <!-- Empty row reserved -->
  <div class="row-wrapper">
    <h2 class="section-title"></h2>
    <div class="row-scroll"></div>
  </div>

  <!-- VIDEO OVERLAY -->
  <div id="video-overlay" class="video-overlay hidden" aria-label="Video player overlay">
    <button class="close-btn" aria-label="Close video">&times;</button>
    <video controls autoplay playsinline></video>
  </div>
</main>

<!-- Now Playing -->
<div id="nowPlaying" class="now-playing hidden" role="region" aria-label="Now Playing">
  <div class="np-row">
    <div class="np-pill np-controls" role="group" aria-label="Playback controls">
      <button class="np-btn" id="npRew" title="Rewind 30 seconds" aria-label="Rewind 30 seconds">
        <svg viewBox="0 0 24 24" class="skip-30 rewind" aria-hidden="true">
          <path d="M12 4a8 8 0 1 0 8 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M10 4 L6.8 6 L10 8 Z" fill="currentColor"/>
          <text x="12" y="12" text-anchor="middle" dominant-baseline="middle"
                font-size="8" font-family="ui-monospace, monospace" fill="currentColor" font-weight="700">30</text>
        </svg>
      </button>

      <button class="np-btn big" id="npPlay" title="Play/Pause" aria-label="Play/Pause">
        <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
      </button>

      <button class="np-btn" id="npFwd" title="Forward 30 seconds" aria-label="Forward 30 seconds">
        <svg viewBox="0 0 24 24" class="skip-30 forward" aria-hidden="true">
          <path d="M12 20a8 8 0 1 0-8-8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M14 20 L17.2 18 L14 16 Z" fill="currentColor"/>
          <text x="12" y="12" text-anchor="middle" dominant-baseline="middle"
                font-size="8" font-family="ui-monospace, monospace" fill="currentColor" font-weight="700">30</text>
        </svg>
      </button>
    </div>

    <div class="np-pill np-track">
      <span class="np-time left" id="npElapsed">0:00</span>
      <input type="range" min="0" value="0" step="0.01" class="np-seek" id="npSeek" />
      <span class="np-time" id="npRemaining">-0:00</span>
    </div>
  </div>
  <div class="np-meta">
    <span id="npTitle">Now Playing</span>
    <span class="np-msg" id="npMsg" aria-live="polite"></span>
  </div>
</div>

<!-- FOOTER -->
<footer class="site-footer">
  <svg class="footer-illus" viewBox="0 0 400 220" aria-hidden="true">
    <g fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
      <rect x="20" y="30" width="360" height="160" rx="8"/>
      <rect x="110" y="70" width="180" height="60" rx="6"/>
      <circle cx="170" cy="100" r="18"/><circle cx="230" cy="100" r="18"/>
      <circle cx="170" cy="100" r="6"/><circle cx="230" cy="100" r="6"/>
      <circle cx="40" cy="50" r="4"/><circle cx="360" cy="50" r="4"/>
      <circle cx="40" cy="170" r="4"/><circle cx="360" cy="170" r="4"/>
      <line x1="40" y1="140" x2="360" y2="140"/><line x1="40" y1="152" x2="360" y2="152"/>
    </g>
  </svg>

  <div class="footer-wrap">
    <div></div>
    
    <br><br><br>

    <form class="signup-card" id="newsletterForm"
          action="https://formspree.io/f/xdkwjzzr" method="POST" novalidate>
      <div class="row">
        <div class="signup-title">SIGN-UP FOR THE VCR RECORD CLUB</div>
      </div>

      <input type="text" name="_gotcha" tabindex="-1" autocomplete="off"
             style="position:absolute;left:-9999px" aria-hidden="true">

      <div class="row">
        <input type="email" name="email" placeholder="Enter your email" aria-label="Email" required />
      </div>

      <div class="row">
        <div class="signup-options">
          <label><input type="checkbox" name="consent" value="yes" required /> I agree to receive emails and accept the Privacy Policy.</label>
        </div>
      </div>

      <input type="hidden" name="source" value="Footer form">
      <input type="hidden" name="page"   value="" id="signupPageField">

      <button class="signup-btn row" type="submit" id="signupSubmitBtn">Sign Up</button>
    </form>
  </div>

  <br>

  <nav class="footer-social" aria-label="Social links">
    <a class="social" href="mailto:f_hastings@hotmail.com" aria-label="Email" title="Email">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="5" width="18" height="14" rx="2"></rect>
        <path d="M3 7l9 6 9-6"></path>
      </svg>
    </a>

    <a class="social" href="#" aria-label="YouTube" title="YouTube">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="7" width="18" height="10" rx="3" ry="3"></rect>
        <path d="M10 9.75L15.5 12 10 14.25z" fill="currentColor" stroke="none"></path>
      </svg>
    </a>

    <a class="social" href="https://www.instagram.com/felix_hastings?igsh=d2MyZ3oxZmx3aXF1&utm_source=qr" aria-label="Instagram" title="Instagram">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <rect x="4" y="4" width="16" height="16" rx="4"></rect>
        <circle cx="12" cy="12" r="4.2"></circle>
        <circle cx="16.5" cy="7.5" r="1.1" fill="currentColor" stroke="none"></circle>
      </svg>
    </a>
  </nav>

  <br>

  <div class="footer-links">
    <a href="#">Help &amp; Support</a>
    <a href="#">Terms</a>
    <a href="#">Privacy</a>
    <a href="#">Do not sell my personal information</a>
    <a href="#">Cookie Choices</a>
  </div>
  <div class="copyright">&copy; 2025 VCR | Official Store</div>
  <div class="a11y-note">
    If you are using a screen reader and are having problems using this website, please call
    <a href="tel:+1-866-682-4413">866-682-4413</a> for assistance.
  </div>
</footer>

<audio id="cardPlayer" playsinline preload="none"></audio>

<!-- Audio & interactions -->
<script defer>
/* ============================================================
   1) AUDIO / NOW PLAYING (single-line UI, ±30s skip)
   ============================================================ */
(function () {
  const nowBar=document.getElementById('nowPlaying');
  const npPlay=document.getElementById('npPlay');
  const npRew=document.getElementById('npRew');
  const npFwd=document.getElementById('npFwd');
  const npSeek=document.getElementById('npSeek');
  const npElapsed=document.getElementById('npElapsed');
  const npRemain=document.getElementById('npRemaining');
  const npTitle=document.getElementById('npTitle');
  const npMsg=document.getElementById('npMsg');
  const player=document.getElementById('cardPlayer');
  if(!player) return;

  player.setAttribute('playsinline','');
  player.preload='none';
  let tracks=[], index=-1;
  let activeButton=null;

  const toAbs=u=>{ try{ return new URL(u,location.href).href; }catch{ return u; } };
  const pickTitleFrom=el=>{
    const root=el?.closest?.('.rect-card, .square-card, .release-card, .episode')||document;
    const tEl=root.querySelector?.('.title, .overlay h4, .release-title, .episode-title, h3, h4');
    return tEl?tEl.textContent.trim():'';
  };

  const fmt=s=>!isFinite(s)?'0:00':Math.floor(s/60)+':'+('0'+Math.floor(s%60)).slice(-2);

  function setPlayBtn(p){
    npPlay.innerHTML=p
      ?'<svg viewBox="0 0 24 24"><path d="M6 19h4V5H6zm8-14v14h4V5h-4z"/></svg>'
      :'<svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>';
  }

  function updateUI(){
    if(player.duration){
      npSeek.max=player.duration;
      npSeek.value=player.currentTime;
      npElapsed.textContent=fmt(player.currentTime);
      npRemain.textContent='-'+fmt(player.duration-player.currentTime);
    }
  }

  function showBar(){ nowBar.classList.remove('hidden'); updateUI(); setPlayBtn(!player.paused); }

  function playAt(i, triggerBtn){
    if(!tracks.length) return;
    index=(i+tracks.length)%tracks.length;
    const t=tracks[index];
    player.src=t.src;
    npTitle.textContent=t.title||'Now Playing';
    if(activeButton && activeButton!==triggerBtn) {
      activeButton.innerHTML='▶'; activeButton.classList.remove('playing');
    }
    activeButton=triggerBtn||null;
    if(activeButton){ activeButton.innerHTML='❚❚'; activeButton.classList.add('playing'); }
    player.play().then(showBar).catch(showBar);
  }

  (function build(){
    const map=new Map();
    document.querySelectorAll('[data-audio]').forEach(el=>{
      const src=el.getAttribute('data-audio'); if(!src) return;
      const abs=toAbs(src);
      if(!map.has(abs)) map.set(abs,{src:abs,title:pickTitleFrom(el)});
    });
    tracks=Array.from(map.values());
  })();

  function bindPlayable(selector){
    document.querySelectorAll(selector).forEach(el=>{
      if(el.dataset.afrBound) return;
      el.dataset.afrBound='1'; el.style.cursor='pointer';
      el.setAttribute('role','button'); el.setAttribute('tabindex','0');
      const activate=(e)=>{
        e.preventDefault(); e.stopPropagation();
        const src=el.getAttribute('data-audio'); if(!src) return;
        const abs=toAbs(src);
        let i=tracks.findIndex(t=>t.src===abs);
        if(i===-1){ tracks.push({src:abs,title:pickTitleFrom(el)}); i=tracks.length-1; }
        if(player.src.includes(abs) && !player.paused){ player.pause(); return; }
        playAt(i,el);
      };
      el.addEventListener('click',activate,{passive:false});
      el.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' ') activate(e);},{passive:false});
    });
  }
  bindPlayable('.play-button[data-audio], .listen-button[data-audio], .release-art[data-audio], .track-title[data-audio], .js-play[data-audio]');

  /* iOS: prevent parent link navigation stealing tap from .play-button */
  (function(){
    document.querySelectorAll('.play-button[data-audio]').forEach(el => {
      if (el.dataset.afrTouchBound) return;
      el.dataset.afrTouchBound = '1';
      el.setAttribute('role','button');
      el.setAttribute('tabindex','0');
      el.style.webkitTapHighlightColor = 'transparent';
      el.style.touchAction = 'manipulation';

      el.addEventListener('touchstart', (e) => {
        e.preventDefault();
        e.stopPropagation();
      }, { passive: false });

      el.addEventListener('touchend', (e) => {
        e.preventDefault();
        e.stopPropagation();
        el.click();
      }, { passive: false });
    });

    document.querySelectorAll('a.square-card, a.product-card').forEach(a => {
      if (a.dataset.afrNavGuard) return;
      a.dataset.afrNavGuard = '1';
      a.addEventListener('click', (e) => {
        if (e.target && e.target.closest('.play-button[data-audio]')) {
          e.preventDefault();
        }
      }, true);
    });
  })();

  npPlay.addEventListener('click', ()=>{ player.paused?player.play().catch(()=>{}):player.pause(); });
  const skipBy=s=>{
    if(!isFinite(player.duration)) return;
    player.currentTime=Math.min(player.duration,Math.max(0,(player.currentTime||0)+s));
    updateUI();
  };
  npRew.addEventListener('click', ()=>skipBy(-30));
  npFwd.addEventListener('click', ()=>skipBy(30));
  npSeek.addEventListener('input', ()=>{
    player.currentTime=parseFloat(npSeek.value||0);
    updateUI();
  });

  player.addEventListener('loadedmetadata', updateUI);
  player.addEventListener('timeupdate', updateUI);
  player.addEventListener('play', ()=>{
    setPlayBtn(true);
    showBar();
    if(activeButton){ activeButton.innerHTML='❚❚'; activeButton.classList.add('playing'); }
  });
  player.addEventListener('pause', ()=>{
    setPlayBtn(false);
    if(activeButton){ activeButton.innerHTML='▶'; activeButton.classList.remove('playing'); }
  });
  player.addEventListener('ended', ()=>{
    if(activeButton){ activeButton.innerHTML='▶'; activeButton.classList.remove('playing'); }
    playAt(index+1);
  });
  player.addEventListener('error', ()=>{
    npMsg.textContent='Audio not found: '+(player.currentSrc||'');
    setTimeout(()=>npMsg.textContent='',4000);
  });

  window.cardPlayer=player; window.tracks=tracks; window.playIndex=playAt;
})();

/* ============================================================
   2) HORIZONTAL SCROLL / DRAG for .row-scroll
   ============================================================ */
(function(){
  const rows = Array.from(document.querySelectorAll('.row-scroll'));
  if (!rows.length) return;

  function isXScrollable(el){
    const cs = getComputedStyle(el);
    if (cs.overflowX === 'hidden') return false;
    return el.scrollWidth - el.clientWidth > 1;
  }
  function setScrollabilityFlag(el){
    el.classList.toggle('is-xscroll', isXScrollable(el));
  }

  const ro = new ResizeObserver(() => rows.forEach(setScrollabilityFlag));
  rows.forEach(r => {
    setScrollabilityFlag(r);
    ro.observe(r);

    r.addEventListener('wheel', (e) => {
      if (!r.classList.contains('is-xscroll')) return;
      if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
        const before = r.scrollLeft;
        r.scrollLeft += e.deltaY;
        if (r.scrollLeft !== before) { e.preventDefault(); e.stopPropagation(); }
      }
    }, { passive: false });

    let isDown = false, startX = 0, startLeft = 0, pid = null;
    r.addEventListener('pointerdown', (e) => {
      if (!r.classList.contains('is-xscroll')) return;
      isDown = true; pid = e.pointerId; r.setPointerCapture(pid);
      startX = e.clientX; startLeft = r.scrollLeft; r.style.cursor = 'grabbing';
    });
    r.addEventListener('pointermove', (e) => { if (isDown) r.scrollLeft = startLeft - (e.clientX - startX); });
    const end = () => {
      isDown = false; r.style.cursor = '';
      if (pid) { try { r.releasePointerCapture(pid); } catch(_){} }
    };
    r.addEventListener('pointerup', end);
    r.addEventListener('pointerleave', end);
    r.addEventListener('pointercancel', end);
  });
})();

/* ============================================================
   3) FREE DOWNLOAD HANDLER
   ============================================================ */
(function(){
  function toAbs(u){ try{ return new URL(u, location.href).href; }catch{ return u; } }
  async function forceDownload(url, filename){
    try{
      const res = await fetch(url, { credentials: 'same-origin' });
      if(!res.ok) throw new Error('Fetch failed: ' + res.status);
      const blob = await res.blob();
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = filename || (url.split('/').pop() || 'download.mp3');
      document.body.appendChild(a); a.click();
      setTimeout(()=>{ URL.revokeObjectURL(a.href); a.remove(); }, 2000);
    }catch(err){ location.href = url; }
  }
  function findCardAudioURL(btn){
    const card = btn.closest('.release-card');
    if(!card) return null;
    const el = card.querySelector('[data-audio]');
    return el ? el.getAttribute('data-audio') : null;
  }
  document.querySelectorAll('.buy-button.free').forEach(btn=>{
    if(btn.dataset.afrBound) return;
    btn.dataset.afrBound = '1';
    btn.addEventListener('click', function(e){
      e.preventDefault(); e.stopPropagation();
      const explicit = btn.getAttribute('data-download');
      const fallback = findCardAudioURL(btn);
      const src = toAbs(explicit || fallback || btn.getAttribute('href') || '');
      if(!src) return;
      const filename = btn.getAttribute('data-filename') || '';
      forceDownload(src, filename);
    }, { passive: false });
  });
})();

/* ============================================================
   4) HEADER MENU DRAWER
   ============================================================ */
(function(){
  const header  = document.querySelector('.site-header');
  if(!header) return;
  const btn     = header.querySelector('.hamburger');
  const menu    = header.querySelector('#siteMenu');
  const scrim   = header.querySelector('.nav-scrim');
  if(!btn || !menu || !scrim) return;

  function closeMenu(){
    header.classList.remove('menu-open');
    btn.setAttribute('aria-expanded','false');
    scrim.setAttribute('hidden','');
  }
  function openMenu(){
    header.classList.add('menu-open');
    btn.setAttribute('aria-expanded','true');
    scrim.removeAttribute('hidden');
  }
  btn.addEventListener('click', () => {
    const open = btn.getAttribute('aria-expanded') === 'true';
    open ? closeMenu() : openMenu();
  });
  scrim.addEventListener('click', closeMenu);
  window.addEventListener('keydown', e => { if(e.key === 'Escape') closeMenu(); });
})();

/* ============================================================
   5) FOOTER SIGNUP (AJAX)
   ============================================================ */
(function(){
  const form = document.getElementById('newsletterForm');
  if(!form) return;

  const pageField = document.getElementById('signupPageField');
  if(pageField) pageField.value = location.href;

  const status = document.getElementById('signupStatus');
  const btn    = document.getElementById('signupSubmitBtn');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    if (form.reportValidity && !form.reportValidity()) {
      if(status) status.textContent = 'Please complete required fields.'; return;
    }
    if(btn){ btn.disabled = true; btn.textContent = 'Sending…'; }
    if(status) status.textContent = '';
    try{
      const fd = new FormData(form);
      fd.append('_subject', 'New newsletter signup (Analog Fog)');
      const res = await fetch(form.action, { method:'POST', body: fd, headers:{ 'Accept':'application/json' } });
      if(res.ok){
        if(status) status.textContent = 'Thanks! Please check your inbox to confirm.';
        form.reset();
      }else{
        const data = await res.json().catch(()=> ({}));
        if(status) status.textContent = (data && data.errors && data.errors[0] && data.errors[0].message)
          ? data.errors[0].message
          : 'Something went wrong. Please try again.';
      }
    }catch(_){
      if(status) status.textContent = 'Network error. Please try again.';
    }finally{
      if(btn){ btn.disabled = false; btn.textContent = 'Sign Up'; }
    }
  });
})();

/* ============================================================
   6) VIDEO OVERLAY HANDLER
   ============================================================ */
(function () {
  const overlay = document.getElementById('video-overlay');
  if (!overlay) return;

  const overlayVideo = overlay.querySelector('video');
  const closeBtn = overlay.querySelector('.close-btn');

  function openOverlay(src) {
    if (!src) return;
    overlayVideo.src = src;
    overlay.classList.remove('hidden');
    overlayVideo.load();
    overlayVideo.play().catch(() => {});
  }

  function closeOverlay() {
    overlay.classList.add('hidden');
    try { overlayVideo.pause(); } catch (_) {}
    overlayVideo.removeAttribute('src');
  }

  closeBtn.addEventListener('click', (e) => {
    e.preventDefault();
    closeOverlay();
  });

  overlay.addEventListener('click', (e) => {
    if (e.target === overlay) {
      closeOverlay();
    }
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && !overlay.classList.contains('hidden')) {
      closeOverlay();
    }
  });

  document.querySelectorAll('[data-video-src]').forEach(card => {
    card.addEventListener('click', (e) => {
      if (e.target.closest('.play-button')) return;
      e.preventDefault();
      const src = card.getAttribute('data-video-src');
      openOverlay(src);
    });
  });
})();
</script>

</body>
</html>





